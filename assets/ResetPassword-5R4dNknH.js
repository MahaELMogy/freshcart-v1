import{u as m,r as u,a as c,j as s,b as w,V as n}from"./index-uv1qKhFx.js";function h(){const t=m(),[i,o]=u.useState(!1);function l(r){const a={};return r.email?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r.email)||(a.email="Invalid email format"):a.email="Email is required",r.newPassword?/^[A-Z][a-z]{3,5}[0-9]{3,5}$/.test(r.newPassword)||(a.newPassword="Password must start with uppercase, followed by 3-5 lowercase and 3-5 digits"):a.newPassword="Password is required",a}function d(r){o(!0),w.put("https://ecommerce.routemisr.com/api/v1/auth/resetPassword",{email:r.email,newPassword:r.newPassword}).then(a=>{n.success("Password has been reset"),t("/Login")}).catch(a=>{console.error(a),n.error("Something went wrong. Please try again.")}).finally(()=>o(!1))}const e=c({initialValues:{email:"",newPassword:""},validate:l,onSubmit:d});return s.jsxs("section",{className:"px-4 py-8 max-w-md mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-6 text-center",children:"Reset Your Password"}),s.jsxs("form",{onSubmit:e.handleSubmit,className:"flex flex-col gap-4 bg-white border border-gray-200 shadow p-6 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm mb-1 font-medium",children:"Email:"}),s.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.email,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400"}),e.errors.email&&e.touched.email&&s.jsx("p",{className:"text-sm text-red-500",children:e.errors.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"newPassword",className:"block text-sm mb-1 font-medium",children:"New Password:"}),s.jsx("input",{type:"password",name:"newPassword",id:"newPassword",autoComplete:"new-password",onChange:e.handleChange,onBlur:e.handleBlur,value:e.values.newPassword,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-400"}),e.errors.newPassword&&e.touched.newPassword&&s.jsx("p",{className:"text-sm text-red-500",children:e.errors.newPassword})]}),s.jsx("button",{type:"submit",className:"bg-green-600 text-white font-semibold py-2 rounded hover:bg-green-700 transition",children:i?s.jsx("i",{className:"fa-solid fa-spinner fa-spin-pulse"}):"Reset Password"})]})]})}export{h as default};
